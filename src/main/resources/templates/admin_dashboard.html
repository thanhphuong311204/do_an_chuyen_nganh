<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: "Poppins", sans-serif;
        }
    </style>
</head>

<body class="bg-gray-100">

<!-- ======================= SIDEBAR ======================= -->
<div class="flex h-screen">

    <aside class="w-64 bg-white shadow-lg fixed inset-y-0 left-0 z-50">
        <div class="px-6 py-6 border-b">
            <h1 class="text-2xl font-semibold text-gray-800">Admin Panel</h1>
        </div>

        <nav class="mt-6">

            <a href="/admin/dashboard"
               class="block px-6 py-3 text-gray-700 hover:bg-orange-100 hover:text-orange-600 transition font-medium">
                ğŸ“Š Dashboard tá»•ng quan
            </a>

            <a href="/admin/users"
               class="block px-6 py-3 text-gray-700 hover:bg-orange-100 hover:text-orange-600 transition font-medium">
                ğŸ‘¥ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
            </a>

            <a href="/admin/categories"
               class="block px-6 py-3 text-gray-700 hover:bg-orange-100 hover:text-orange-600 transition font-medium">
                ğŸ—‚ Quáº£n lÃ½ danh má»¥c
            </a>

            <a href="/admin/notifications"
               class="block px-6 py-3 text-gray-700 hover:bg-orange-100 hover:text-orange-600 transition font-medium">
                ğŸ”” ThÃ´ng bÃ¡o FCM
            </a>

            <a href="/admin/goals"
               class="block px-6 py-3 text-gray-700 hover:bg-orange-100 hover:text-orange-600 transition font-medium">
                ğŸ¯ Má»¥c tiÃªu há»‡ thá»‘ng
            </a>

            <a href="/admin/logout"
               class="block px-6 py-3 text-gray-700 hover:bg-red-100 hover:text-red-500 transition font-medium">
                ğŸšª ÄÄƒng xuáº¥t
            </a>

        </nav>
    </aside>

    <!-- ======================= MAIN CONTENT ======================= -->
    <main class="flex-1 ml-64 p-10">

        <h1 class="text-3xl font-semibold text-gray-800 mb-8">Dashboard tá»•ng quan</h1>

        <div id="stats" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

    </main>
</div>


<script>
    fetch("/api/admin/stats/overview")
        .then(res => res.json())
        .then(data => {
            document.getElementById("stats").innerHTML = `
                ${card("Tá»•ng ngÆ°á»i dÃ¹ng", data.totalUsers, "ğŸ‘¥")}
                ${card("Tá»•ng sá»‘ vÃ­", data.totalWallets, "ğŸ’¼")}
                ${card("Tá»•ng thu", formatMoney(data.totalIncome), "ğŸ’°")}
                ${card("Tá»•ng chi", formatMoney(data.totalExpense), "ğŸ’¸")}
                ${card("Má»¥c tiÃªu", data.totalGoals, "ğŸ¯")}
                ${card("Giao dá»‹ch Ä‘á»‹nh ká»³", data.totalRecurring, "ğŸ”„")}
            `;
        });

    function card(title, value, icon) {
        return `
            <div class="p-6 bg-white rounded-2xl shadow hover:shadow-lg transition">
                <p class="text-gray-500 text-sm flex items-center gap-2">
                    <span class="text-xl">${icon}</span> ${title}
                </p>
                <h2 class="text-3xl font-bold text-gray-800 mt-2">${value}</h2>
            </div>
        `;
    }

    function formatMoney(num) {
        return num.toLocaleString("vi-VN") + " â‚«";
    }
</script>

</body>
</html>
